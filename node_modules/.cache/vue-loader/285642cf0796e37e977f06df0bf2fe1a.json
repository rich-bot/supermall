{"remainingRequest":"F:\\project\\vue\\supermall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\project\\vue\\supermall\\src\\views\\home\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\project\\vue\\supermall\\src\\views\\home\\Home.vue","mtime":1598121441603},{"path":"F:\\project\\vue\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596725900621},{"path":"F:\\project\\vue\\supermall\\node_modules\\babel-loader\\lib\\index.js","mtime":1596725931667},{"path":"F:\\project\\vue\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596725900621},{"path":"F:\\project\\vue\\supermall\\node_modules\\vue-loader\\lib\\index.js","mtime":1596725926567}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n  import BackToTop from '@/components/content/backToTop/BackToTop.vue'\n  import Scroll from \"@/components/common/scroll/Scroll.vue\"\n  import GoodsList from '@/components/content/goods/GoodsList.vue'\n  import TabControl from '@/components/content/tabControl/TabControl.vue'\n  import FeatureView from '@/views/home/childHome/FeatureView.vue'\n  import NavBar from '@/components/common/navbar/NavBar.vue'\n  import Banners from '@/components/common/banners/Banners.vue'\n  import RecommendView from '@/views/home/childHome/RecommendView.vue'\n  import {getHomeMultidata,getHomeGoods}\tfrom '@/network/home.js'\n  export default {\n    name: \"Home\",\n\tcomponents:{\n\t\tNavBar,\n\t\tBanners,\n\t\tRecommendView,\n\t\tFeatureView,\n\t\tTabControl,\n\t\tGoodsList,\n\t\tScroll,\n\t\tBackToTop\n\t},\n\tdata(){\n\t\treturn {\n\t\t\tbanners:[],\n\t\t\trecommend:[],\n\t\t\tgoods:{\n\t\t\t\t'pop':{page:0,list:[]},\n\t\t\t\t'new':{page:0,list:[]},\n\t\t\t\t'sell':{page:0,list:[]},\n\t\t\t},\n\t\t\tcurrentIndex:'pop',\n\t\t\tisShow:true\n\t\t}\n\t},\n\tmounted(){\n\t\t/* console.log(this.$bus); */\n\t\tthis.getHomeMultidata();\n\t\tthis.getHomeGoods('pop');\n\t\tthis.getHomeGoods('new');\n\t\tthis.getHomeGoods('sell');\n\t\t\n\t\tconst refresh=this.bounce(this.$refs.scroll.refresh);\n\t\tthis.$bus.$on(\"loadImg\",()=>{\n\t\t\t/* this.$refs.scroll.refresh(); */\n\t\t\trefresh();\n\t\t\tconsole.log(\"cccc\");\n\t\t})\n\t\t\n\t},\n\tcreated() {\n\t\t\n\t\t\n\t},\n\tmethods:{\n\t\t//防抖函数\n\t\tbounce(fn,timer=300){\n\t\t\tlet timers=null;\n\t\t\treturn function(){\n\t\t\t\ttimers&&clearTimeout(timers);\n\t\t\t\ttimers=setTimeout(function(){\n\t\t\t\t\tfn.apply(this);\n\t\t\t\t\t\n\t\t\t\t},timer)\n\t\t\t}\n\t\t},\n\t\tpullingUp(){\n\t\t\t/* console.log(\"________\"); */\n\t\t\t/* console.log(\"------\"); */\n\t\t\tthis.getHomeGoods(this.currentIndex);\n\t\t\tthis.$refs.scroll.scroll.refresh();\n\t\t},\n\t\tscroll(position){\n\t\t\t/* console.log(-position.y) */\n\t\t\tif(-position.y>1000){\n\t\t\t\tthis.isShow=true;\n\t\t\t}else{\n\t\t\t\tthis.isShow=false;\n\t\t\t}\n\t\t},\n\t\tbackTop(){\n\t\t\t/* console.log(\"ccccc\"); */\n\t\t\t/* console.log(this.$refs.scroll.scroll) */\n\t\t\tthis.$refs.scroll.scrollTo(0,0,300);\n\t\t},\n\t\tchangeIndex(index){\n\t\t\tswitch(index){\n\t\t\t\tcase 0:\n\t\t\t\t      this.currentIndex='pop';\n\t\t\t\t\t  break;\n\t\t\t    case 1:\n\t\t\t\t      this.currentIndex='new';\n\t\t\t\t\t  break;\n\t\t\t    case 2:\n\t\t\t\t      this.currentIndex='sell';\n\t\t\t\t\t  break;\n\t\t\t}\n\t\t},\n\t\t/* 网络请求 */\n\t\tgetHomeMultidata(){\n\t\t\tgetHomeMultidata().then(res=>{\n\t\t\t\tconsole.log(res.data.banner);\n\t\t\t\tthis.banners=res.data.banner.list;\n\t\t\t\tthis.recommend=res.data.recommend.list;\n\t\t\t\t\n\t\t\t})\n\t\t},\n\t\tgetHomeGoods(type){\n\t\t\tlet page=this.goods[type].page+1;\n\t\t\tgetHomeGoods(type,page).then(res=>{\n\t\t\t\tconsole.log(res);\n\t\t\t\tthis.goods[type].list.push(...res.data.list);\n\t\t\t\tthis.goods[type].page+=1;\n\t\t\t\tthis.$refs.scroll.finishPullUp();\n\t\t\t})\n\t\t\t/* console.log(this.$refs.scroll); */\n\t\t\t\n\t\t}\n\t\t\n\t}\n  }\n",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div id=\"home\">\r\n\t  <nav-bar class=\"home-nav\">\r\n\t\t  <div slot=\"center\">购物街</div> \r\n\t  </nav-bar>\r\n\t  <scroll class=\"content\" ref=\"scroll\" @scroll=\"scroll\" :isScroll=\"3\" @pullingUp=\"pullingUp\" :isReflsh=\"true\">\r\n\t\t <banners :banners=\"banners\"></banners>\r\n\t\t <RecommendView :recommend=\"recommend\"></RecommendView>  \r\n\t\t <FeatureView></FeatureView>\r\n\t\t <van-sticky :offset-top=\"44\" class=\"sticky\">\r\n\t\t   <tab-control :title=\"['流行','新款','精选']\" class=\"tab-control\" @changeIndex=\"changeIndex\"></tab-control>\r\n\t\t </van-sticky>\r\n\t\t <goods-list :list=\"goods[currentIndex].list\" class=\"good-list\"></goods-list> \r\n\t  </scroll>\r\n\t  <backToTop @click.native=\"backTop\" v-show=\"isShow\"></backToTop>\r\n  </div>\n</template>\n\n<script>\r\n  import BackToTop from '@/components/content/backToTop/BackToTop.vue'\r\n  import Scroll from \"@/components/common/scroll/Scroll.vue\"\r\n  import GoodsList from '@/components/content/goods/GoodsList.vue'\r\n  import TabControl from '@/components/content/tabControl/TabControl.vue'\r\n  import FeatureView from '@/views/home/childHome/FeatureView.vue'\r\n  import NavBar from '@/components/common/navbar/NavBar.vue'\r\n  import Banners from '@/components/common/banners/Banners.vue'\r\n  import RecommendView from '@/views/home/childHome/RecommendView.vue'\r\n  import {getHomeMultidata,getHomeGoods}\tfrom '@/network/home.js'\n  export default {\n    name: \"Home\",\r\n\tcomponents:{\r\n\t\tNavBar,\r\n\t\tBanners,\r\n\t\tRecommendView,\r\n\t\tFeatureView,\r\n\t\tTabControl,\r\n\t\tGoodsList,\r\n\t\tScroll,\r\n\t\tBackToTop\r\n\t},\r\n\tdata(){\r\n\t\treturn {\r\n\t\t\tbanners:[],\r\n\t\t\trecommend:[],\r\n\t\t\tgoods:{\r\n\t\t\t\t'pop':{page:0,list:[]},\r\n\t\t\t\t'new':{page:0,list:[]},\r\n\t\t\t\t'sell':{page:0,list:[]},\r\n\t\t\t},\r\n\t\t\tcurrentIndex:'pop',\r\n\t\t\tisShow:true\r\n\t\t}\r\n\t},\r\n\tmounted(){\r\n\t\t/* console.log(this.$bus); */\r\n\t\tthis.getHomeMultidata();\r\n\t\tthis.getHomeGoods('pop');\r\n\t\tthis.getHomeGoods('new');\r\n\t\tthis.getHomeGoods('sell');\r\n\t\t\r\n\t\tconst refresh=this.bounce(this.$refs.scroll.refresh);\r\n\t\tthis.$bus.$on(\"loadImg\",()=>{\r\n\t\t\t/* this.$refs.scroll.refresh(); */\r\n\t\t\trefresh();\r\n\t\t\tconsole.log(\"cccc\");\r\n\t\t})\r\n\t\t\r\n\t},\r\n\tcreated() {\r\n\t\t\r\n\t\t\r\n\t},\r\n\tmethods:{\r\n\t\t//防抖函数\r\n\t\tbounce(fn,timer=300){\r\n\t\t\tlet timers=null;\r\n\t\t\treturn function(){\r\n\t\t\t\ttimers&&clearTimeout(timers);\r\n\t\t\t\ttimers=setTimeout(function(){\r\n\t\t\t\t\tfn.apply(this);\r\n\t\t\t\t\t\r\n\t\t\t\t},timer)\r\n\t\t\t}\r\n\t\t},\r\n\t\tpullingUp(){\r\n\t\t\t/* console.log(\"________\"); */\r\n\t\t\t/* console.log(\"------\"); */\r\n\t\t\tthis.getHomeGoods(this.currentIndex);\r\n\t\t\tthis.$refs.scroll.scroll.refresh();\r\n\t\t},\r\n\t\tscroll(position){\r\n\t\t\t/* console.log(-position.y) */\r\n\t\t\tif(-position.y>1000){\r\n\t\t\t\tthis.isShow=true;\r\n\t\t\t}else{\r\n\t\t\t\tthis.isShow=false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tbackTop(){\r\n\t\t\t/* console.log(\"ccccc\"); */\r\n\t\t\t/* console.log(this.$refs.scroll.scroll) */\r\n\t\t\tthis.$refs.scroll.scrollTo(0,0,300);\r\n\t\t},\r\n\t\tchangeIndex(index){\r\n\t\t\tswitch(index){\r\n\t\t\t\tcase 0:\r\n\t\t\t\t      this.currentIndex='pop';\r\n\t\t\t\t\t  break;\r\n\t\t\t    case 1:\r\n\t\t\t\t      this.currentIndex='new';\r\n\t\t\t\t\t  break;\r\n\t\t\t    case 2:\r\n\t\t\t\t      this.currentIndex='sell';\r\n\t\t\t\t\t  break;\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* 网络请求 */\r\n\t\tgetHomeMultidata(){\r\n\t\t\tgetHomeMultidata().then(res=>{\r\n\t\t\t\tconsole.log(res.data.banner);\r\n\t\t\t\tthis.banners=res.data.banner.list;\r\n\t\t\t\tthis.recommend=res.data.recommend.list;\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetHomeGoods(type){\r\n\t\t\tlet page=this.goods[type].page+1;\r\n\t\t\tgetHomeGoods(type,page).then(res=>{\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tthis.goods[type].list.push(...res.data.list);\r\n\t\t\t\tthis.goods[type].page+=1;\r\n\t\t\t\tthis.$refs.scroll.finishPullUp();\r\n\t\t\t})\r\n\t\t\t/* console.log(this.$refs.scroll); */\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\n  }\n</script>\n\n<style scoped>\r\n\t\r\n\t#home{\r\n\t\twidth: 100%;\r\n\t\t/* margin-top: 44px; */\r\n\t\theight: 100vh;\r\n\t\t/* padding-bottom: 1000px; */\r\n\t\tposition: relative;\r\n\t}\r\n\t/* #home::before{\r\n\t\tdisplay: block;\r\n\t\tcontent: \"\";\r\n\t\toverflow: hidden;\r\n\t} */\r\n     .tab-control{\r\n\t\t background-color: #fff;\r\n\t }\r\n/* \t.good-list{\r\n\t\tposition: relative;\r\n\t\tz-index: 999;\r\n\t} */\n  .home-nav{\r\n\t  /* width: 100%; */\r\n\t  background-color: var(--color-tint);\r\n\t  color: #FFF;\r\n\t  position: fixed;\r\n\t  top: 0;\r\n\t  left: 0;\r\n\t  right: 0;\r\n\t  z-index: 9;\r\n  }\r\n  .content{\r\n\t  /* height: 300px; */\r\n\t  position: absolute;\r\n\t  top: 44px;\r\n\t  /* top:0; */\r\n\t  bottom: 49px;\r\n\t  left: 0;\r\n\t  right: 0;\r\n\t  /* overflow: hidden; */\r\n  }\r\n/*  .tab-control{\r\n\t  position: -webkit-sticky;\r\n\t  top: 44px;\r\n  } */\n</style>\n"]}]}